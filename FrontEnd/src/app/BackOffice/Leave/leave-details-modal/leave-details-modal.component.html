<div class="modal-content" #modalContent>
  <div class="modal-header">
    <h5 class="modal-title">
      <i class="fas fa-calendar-check"></i>
      Leave Details
    </h5>
    <div class="header-actions">
      <button class="btn btn-light" (click)="downloadAsPDF()">
        <i class="fas fa-file-pdf"></i>
        Download PDF
      </button>
      <button type="button" class="btn-close btn-close-white" aria-label="Close" (click)="activeModal.dismiss()"></button>
    </div>
  </div>

  <div class="modal-body">
    <div class="details-container">
      <!-- Employee Details -->
      <div class="detail-row" *ngIf="leave?.user">
        <div class="detail-label">
          <i class="fas fa-user text-primary"></i>
          <span>Employee</span>
        </div>
        <div class="detail-value">
          {{leave.user?.firstName}} {{leave.user?.lastName}}
        </div>
      </div>

      <!-- Date Range -->
      <div class="detail-row">
        <div class="detail-label">
          <i class="fas fa-calendar-alt text-primary"></i>
          <span>Dates</span>
        </div>
        <div class="detail-value">
          <div><strong>From:</strong> {{leave?.start_date | date:'fullDate'}}</div>
          <div><strong>To:</strong> {{leave?.end_date | date:'fullDate'}}</div>
          <div class="text-muted mt-1">
            <i class="fas fa-clock me-1"></i>
            Duration: {{getDuration()}}
          </div>
        </div>
      </div>

      <!-- Leave Type -->
      <div class="detail-row">
        <div class="detail-label">
          <i class="fas fa-tag text-primary"></i>
          <span>Type</span>
        </div>
        <div class="detail-value">
          <span class="badge leave-type-badge" [ngStyle]="getTypeStyle()">
            {{leave?.type}}
          </span>
        </div>
      </div>

      <!-- Status -->
      <div class="detail-row">
        <div class="detail-label">
          <i class="fas fa-check-circle text-primary"></i>
          <span>Status</span>
        </div>
        <div class="detail-value">
          <span class="badge bg-success">
            Approved
          </span>
        </div>
      </div>

      <!-- Reason -->
      <div class="detail-row" *ngIf="leave?.reason">
        <div class="detail-label">
          <i class="fas fa-comment text-primary"></i>
          <span>Reason</span>
        </div>
        <div class="detail-value reason-text" [innerHTML]="leave?.reason | safeHtml">
        </div>
      </div>

      <!-- Document -->
      <div class="detail-row" *ngIf="leave?.documentAttachement">
        <div class="detail-label">
          <i class="fas fa-file-alt text-primary"></i>
          <span>Document</span>
        </div>
        <div class="detail-value">
          <button class="btn btn-primary btn-sm" (click)="downloadDocument()">
            <i class="fas fa-download me-2"></i>
            Download Attachment
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">
      <i class="fas fa-times me-2"></i>
      Close
    </button>
  </div>
</div> 